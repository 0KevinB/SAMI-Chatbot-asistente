{"level":"error","message":"Registration error: Value for argument \"documentPath\" is not a valid resource path. Path must be a non-empty string.","stack":"Error: Value for argument \"documentPath\" is not a valid resource path. Path must be a non-empty string.\n    at validateResourcePath (/home/kevin/Documentos/SAMMY-Chatbot-asistente/backend/node_modules/@google-cloud/firestore/build/src/path.js:447:15)\n    at CollectionReference.doc (/home/kevin/Documentos/SAMMY-Chatbot-asistente/backend/node_modules/@google-cloud/firestore/build/src/reference/collection-reference.js:188:45)\n    at Function.register (/home/kevin/Documentos/SAMMY-Chatbot-asistente/backend/src/services/auth.service.ts:9:44)\n    at register (/home/kevin/Documentos/SAMMY-Chatbot-asistente/backend/src/controllers/auth.controller.ts:8:39)\n    at Layer.handle [as handle_request] (/home/kevin/Documentos/SAMMY-Chatbot-asistente/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/kevin/Documentos/SAMMY-Chatbot-asistente/backend/node_modules/express/lib/router/route.js:149:13)\n    at middleware (/home/kevin/Documentos/SAMMY-Chatbot-asistente/backend/node_modules/express-validator/lib/middlewares/check.js:16:13)","timestamp":"2024-12-04T00:36:26.563Z"}
{"level":"error","message":"Registration error: Cédula is required and cannot be empty","stack":"Error: Cédula is required and cannot be empty\n    at Function.register (/home/kevin/Documentos/SAMMY-Chatbot-asistente/backend/src/services/auth.service.ts:10:15)\n    at register (/home/kevin/Documentos/SAMMY-Chatbot-asistente/backend/src/controllers/auth.controller.ts:8:39)\n    at Layer.handle [as handle_request] (/home/kevin/Documentos/SAMMY-Chatbot-asistente/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/kevin/Documentos/SAMMY-Chatbot-asistente/backend/node_modules/express/lib/router/route.js:149:13)\n    at middleware (/home/kevin/Documentos/SAMMY-Chatbot-asistente/backend/node_modules/express-validator/lib/middlewares/check.js:16:13)","timestamp":"2024-12-04T00:51:40.624Z"}
{"level":"error","message":"Registration error: Cédula is required and cannot be empty","stack":"Error: Cédula is required and cannot be empty\n    at Function.register (/home/kevin/Documentos/SAMMY-Chatbot-asistente/backend/src/services/auth.service.ts:10:15)\n    at register (/home/kevin/Documentos/SAMMY-Chatbot-asistente/backend/src/controllers/auth.controller.ts:8:39)\n    at Layer.handle [as handle_request] (/home/kevin/Documentos/SAMMY-Chatbot-asistente/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/kevin/Documentos/SAMMY-Chatbot-asistente/backend/node_modules/express/lib/router/route.js:149:13)\n    at middleware (/home/kevin/Documentos/SAMMY-Chatbot-asistente/backend/node_modules/express-validator/lib/middlewares/check.js:16:13)","timestamp":"2024-12-04T00:52:42.305Z"}
{"level":"error","message":"Registration error: Cédula is required and cannot be empty","stack":"Error: Cédula is required and cannot be empty\n    at Function.register (/home/kevin/Documentos/SAMMY-Chatbot-asistente/backend/src/services/auth.service.ts:10:15)\n    at register (/home/kevin/Documentos/SAMMY-Chatbot-asistente/backend/src/controllers/auth.controller.ts:8:39)\n    at Layer.handle [as handle_request] (/home/kevin/Documentos/SAMMY-Chatbot-asistente/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/kevin/Documentos/SAMMY-Chatbot-asistente/backend/node_modules/express/lib/router/route.js:149:13)\n    at middleware (/home/kevin/Documentos/SAMMY-Chatbot-asistente/backend/node_modules/express-validator/lib/middlewares/check.js:16:13)","timestamp":"2024-12-04T00:52:48.815Z"}
{"level":"error","message":"Registration error: Cédula is required and cannot be empty","stack":"Error: Cédula is required and cannot be empty\n    at Function.register (/home/kevin/Documentos/SAMMY-Chatbot-asistente/backend/src/services/auth.service.ts:10:15)\n    at register (/home/kevin/Documentos/SAMMY-Chatbot-asistente/backend/src/controllers/auth.controller.ts:9:39)\n    at Layer.handle [as handle_request] (/home/kevin/Documentos/SAMMY-Chatbot-asistente/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/kevin/Documentos/SAMMY-Chatbot-asistente/backend/node_modules/express/lib/router/route.js:149:13)\n    at middleware (/home/kevin/Documentos/SAMMY-Chatbot-asistente/backend/node_modules/express-validator/lib/middlewares/check.js:16:13)","timestamp":"2024-12-04T00:54:20.939Z"}
{"level":"error","message":"Registration error: Cédula is required and cannot be empty","stack":"Error: Cédula is required and cannot be empty\n    at Function.register (/home/kevin/Documentos/SAMMY-Chatbot-asistente/backend/src/services/auth.service.ts:10:15)\n    at register (/home/kevin/Documentos/SAMMY-Chatbot-asistente/backend/src/controllers/auth.controller.ts:11:39)\n    at Layer.handle [as handle_request] (/home/kevin/Documentos/SAMMY-Chatbot-asistente/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/kevin/Documentos/SAMMY-Chatbot-asistente/backend/node_modules/express/lib/router/route.js:149:13)\n    at middleware (/home/kevin/Documentos/SAMMY-Chatbot-asistente/backend/node_modules/express-validator/lib/middlewares/check.js:16:13)","timestamp":"2024-12-04T00:57:24.176Z"}
{"level":"error","message":"Error: Invalid JSON\n    at IncomingMessage.<anonymous> (/home/kevin/Documentos/SAMMY-Chatbot-asistente/backend/src/index.ts:35:14)\n    at IncomingMessage.emit (node:events:518:28)\n    at IncomingMessage.emit (node:domain:489:12)\n    at endReadableNT (node:internal/streams/readable:1698:12)\n    at processTicksAndRejections (node:internal/process/task_queues:90:21)","timestamp":"2024-12-04T01:03:32.176Z"}
{"level":"error","message":"Error: Invalid JSON\n    at IncomingMessage.<anonymous> (/home/kevin/Documentos/SAMMY-Chatbot-asistente/backend/src/index.ts:35:14)\n    at IncomingMessage.emit (node:events:518:28)\n    at IncomingMessage.emit (node:domain:489:12)\n    at endReadableNT (node:internal/streams/readable:1698:12)\n    at processTicksAndRejections (node:internal/process/task_queues:90:21)","timestamp":"2024-12-04T01:03:46.858Z"}
{"level":"error","message":"SyntaxError: Expected property name or '}' in JSON at position 6 (line 2 column 5)\n    at JSON.parse (<anonymous>)\n    at parse (/home/kevin/Documentos/SAMMY-Chatbot-asistente/backend/node_modules/body-parser/lib/types/json.js:92:19)\n    at /home/kevin/Documentos/SAMMY-Chatbot-asistente/backend/node_modules/body-parser/lib/read.js:128:18\n    at AsyncResource.runInAsyncScope (node:async_hooks:211:14)\n    at invokeCallback (/home/kevin/Documentos/SAMMY-Chatbot-asistente/backend/node_modules/raw-body/index.js:238:16)\n    at done (/home/kevin/Documentos/SAMMY-Chatbot-asistente/backend/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/home/kevin/Documentos/SAMMY-Chatbot-asistente/backend/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:518:28)\n    at IncomingMessage.emit (node:domain:489:12)\n    at endReadableNT (node:internal/streams/readable:1698:12)","timestamp":"2024-12-04T01:04:12.294Z"}
{"level":"error","message":"SyntaxError: Expected property name or '}' in JSON at position 6 (line 2 column 5)\n    at JSON.parse (<anonymous>)\n    at parse (/home/kevin/Documentos/SAMMY-Chatbot-asistente/backend/node_modules/body-parser/lib/types/json.js:92:19)\n    at /home/kevin/Documentos/SAMMY-Chatbot-asistente/backend/node_modules/body-parser/lib/read.js:128:18\n    at AsyncResource.runInAsyncScope (node:async_hooks:211:14)\n    at invokeCallback (/home/kevin/Documentos/SAMMY-Chatbot-asistente/backend/node_modules/raw-body/index.js:238:16)\n    at done (/home/kevin/Documentos/SAMMY-Chatbot-asistente/backend/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/home/kevin/Documentos/SAMMY-Chatbot-asistente/backend/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:518:28)\n    at IncomingMessage.emit (node:domain:489:12)\n    at endReadableNT (node:internal/streams/readable:1698:12)","timestamp":"2024-12-04T01:04:59.710Z"}
{"level":"error","message":"Registration error: Cédula is required and cannot be empty","stack":"Error: Cédula is required and cannot be empty\n    at Function.register (/home/kevin/Documentos/SAMMY-Chatbot-asistente/backend/src/services/auth.service.ts:10:15)\n    at register (/home/kevin/Documentos/SAMMY-Chatbot-asistente/backend/src/controllers/auth.controller.ts:11:39)\n    at Layer.handle [as handle_request] (/home/kevin/Documentos/SAMMY-Chatbot-asistente/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/kevin/Documentos/SAMMY-Chatbot-asistente/backend/node_modules/express/lib/router/route.js:149:13)\n    at middleware (/home/kevin/Documentos/SAMMY-Chatbot-asistente/backend/node_modules/express-validator/lib/middlewares/check.js:16:13)","timestamp":"2024-12-04T01:06:39.839Z"}
{"level":"error","message":"SyntaxError: Expected double-quoted property name in JSON at position 53 (line 4 column 1)\n    at JSON.parse (<anonymous>)\n    at parse (/home/kevin/Documentos/SAMMY-Chatbot-asistente/backend/node_modules/body-parser/lib/types/json.js:92:19)\n    at /home/kevin/Documentos/SAMMY-Chatbot-asistente/backend/node_modules/body-parser/lib/read.js:128:18\n    at AsyncResource.runInAsyncScope (node:async_hooks:211:14)\n    at invokeCallback (/home/kevin/Documentos/SAMMY-Chatbot-asistente/backend/node_modules/raw-body/index.js:238:16)\n    at done (/home/kevin/Documentos/SAMMY-Chatbot-asistente/backend/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/home/kevin/Documentos/SAMMY-Chatbot-asistente/backend/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:518:28)\n    at IncomingMessage.emit (node:domain:489:12)\n    at endReadableNT (node:internal/streams/readable:1698:12)","timestamp":"2024-12-04T01:10:27.409Z"}
{"level":"error","message":"SyntaxError: Expected double-quoted property name in JSON at position 53 (line 4 column 1)\n    at JSON.parse (<anonymous>)\n    at parse (/home/kevin/Documentos/SAMMY-Chatbot-asistente/backend/node_modules/body-parser/lib/types/json.js:92:19)\n    at /home/kevin/Documentos/SAMMY-Chatbot-asistente/backend/node_modules/body-parser/lib/read.js:128:18\n    at AsyncResource.runInAsyncScope (node:async_hooks:211:14)\n    at invokeCallback (/home/kevin/Documentos/SAMMY-Chatbot-asistente/backend/node_modules/raw-body/index.js:238:16)\n    at done (/home/kevin/Documentos/SAMMY-Chatbot-asistente/backend/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/home/kevin/Documentos/SAMMY-Chatbot-asistente/backend/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:518:28)\n    at IncomingMessage.emit (node:domain:489:12)\n    at endReadableNT (node:internal/streams/readable:1698:12)","timestamp":"2024-12-04T01:10:51.895Z"}
{"level":"error","message":"SyntaxError: Expected double-quoted property name in JSON at position 53 (line 4 column 1)\n    at JSON.parse (<anonymous>)\n    at parse (/home/kevin/Documentos/SAMMY-Chatbot-asistente/backend/node_modules/body-parser/lib/types/json.js:92:19)\n    at /home/kevin/Documentos/SAMMY-Chatbot-asistente/backend/node_modules/body-parser/lib/read.js:128:18\n    at AsyncResource.runInAsyncScope (node:async_hooks:211:14)\n    at invokeCallback (/home/kevin/Documentos/SAMMY-Chatbot-asistente/backend/node_modules/raw-body/index.js:238:16)\n    at done (/home/kevin/Documentos/SAMMY-Chatbot-asistente/backend/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/home/kevin/Documentos/SAMMY-Chatbot-asistente/backend/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:518:28)\n    at IncomingMessage.emit (node:domain:489:12)\n    at endReadableNT (node:internal/streams/readable:1698:12)","timestamp":"2024-12-04T01:11:01.284Z"}
{"level":"error","message":"SyntaxError: Expected double-quoted property name in JSON at position 53 (line 4 column 1)\n    at JSON.parse (<anonymous>)\n    at parse (/home/kevin/Documentos/SAMMY-Chatbot-asistente/backend/node_modules/body-parser/lib/types/json.js:92:19)\n    at /home/kevin/Documentos/SAMMY-Chatbot-asistente/backend/node_modules/body-parser/lib/read.js:128:18\n    at AsyncResource.runInAsyncScope (node:async_hooks:211:14)\n    at invokeCallback (/home/kevin/Documentos/SAMMY-Chatbot-asistente/backend/node_modules/raw-body/index.js:238:16)\n    at done (/home/kevin/Documentos/SAMMY-Chatbot-asistente/backend/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/home/kevin/Documentos/SAMMY-Chatbot-asistente/backend/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:518:28)\n    at IncomingMessage.emit (node:domain:489:12)\n    at endReadableNT (node:internal/streams/readable:1698:12)","timestamp":"2024-12-04T01:11:44.304Z"}
{"level":"error","message":"SyntaxError: Expected double-quoted property name in JSON at position 53 (line 4 column 1)\n    at JSON.parse (<anonymous>)\n    at parse (/home/kevin/Documentos/SAMMY-Chatbot-asistente/backend/node_modules/body-parser/lib/types/json.js:92:19)\n    at /home/kevin/Documentos/SAMMY-Chatbot-asistente/backend/node_modules/body-parser/lib/read.js:128:18\n    at AsyncResource.runInAsyncScope (node:async_hooks:211:14)\n    at invokeCallback (/home/kevin/Documentos/SAMMY-Chatbot-asistente/backend/node_modules/raw-body/index.js:238:16)\n    at done (/home/kevin/Documentos/SAMMY-Chatbot-asistente/backend/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/home/kevin/Documentos/SAMMY-Chatbot-asistente/backend/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:518:28)\n    at IncomingMessage.emit (node:domain:489:12)\n    at endReadableNT (node:internal/streams/readable:1698:12)","timestamp":"2024-12-04T01:12:09.909Z"}
{"level":"error","message":"SyntaxError: Expected double-quoted property name in JSON at position 53 (line 4 column 1)\n    at JSON.parse (<anonymous>)\n    at parse (/home/kevin/Documentos/SAMMY-Chatbot-asistente/backend/node_modules/body-parser/lib/types/json.js:92:19)\n    at /home/kevin/Documentos/SAMMY-Chatbot-asistente/backend/node_modules/body-parser/lib/read.js:128:18\n    at AsyncResource.runInAsyncScope (node:async_hooks:211:14)\n    at invokeCallback (/home/kevin/Documentos/SAMMY-Chatbot-asistente/backend/node_modules/raw-body/index.js:238:16)\n    at done (/home/kevin/Documentos/SAMMY-Chatbot-asistente/backend/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/home/kevin/Documentos/SAMMY-Chatbot-asistente/backend/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:518:28)\n    at IncomingMessage.emit (node:domain:489:12)\n    at endReadableNT (node:internal/streams/readable:1698:12)","timestamp":"2024-12-04T01:12:20.708Z"}
{"level":"error","message":"SyntaxError: Expected double-quoted property name in JSON at position 53 (line 4 column 1)\n    at JSON.parse (<anonymous>)\n    at parse (/home/kevin/Documentos/SAMMY-Chatbot-asistente/backend/node_modules/body-parser/lib/types/json.js:92:19)\n    at /home/kevin/Documentos/SAMMY-Chatbot-asistente/backend/node_modules/body-parser/lib/read.js:128:18\n    at AsyncResource.runInAsyncScope (node:async_hooks:211:14)\n    at invokeCallback (/home/kevin/Documentos/SAMMY-Chatbot-asistente/backend/node_modules/raw-body/index.js:238:16)\n    at done (/home/kevin/Documentos/SAMMY-Chatbot-asistente/backend/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/home/kevin/Documentos/SAMMY-Chatbot-asistente/backend/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:518:28)\n    at IncomingMessage.emit (node:domain:489:12)\n    at endReadableNT (node:internal/streams/readable:1698:12)","timestamp":"2024-12-04T01:12:33.132Z"}
{"level":"error","message":"Registration error: User already exists","stack":"Error: User already exists\n    at Function.register (/home/kevin/Documentos/SAMMY-Chatbot-asistente/backend/src/services/auth.service.ts:17:15)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async register (/home/kevin/Documentos/SAMMY-Chatbot-asistente/backend/src/controllers/auth.controller.ts:10:21)","timestamp":"2024-12-04T01:14:25.819Z"}
{"level":"error","message":"SyntaxError: Expected double-quoted property name in JSON at position 53 (line 4 column 1)\n    at JSON.parse (<anonymous>)\n    at parse (/home/kevin/Documentos/SAMMY-Chatbot-asistente/backend/node_modules/body-parser/lib/types/json.js:92:19)\n    at /home/kevin/Documentos/SAMMY-Chatbot-asistente/backend/node_modules/body-parser/lib/read.js:128:18\n    at AsyncResource.runInAsyncScope (node:async_hooks:211:14)\n    at invokeCallback (/home/kevin/Documentos/SAMMY-Chatbot-asistente/backend/node_modules/raw-body/index.js:238:16)\n    at done (/home/kevin/Documentos/SAMMY-Chatbot-asistente/backend/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/home/kevin/Documentos/SAMMY-Chatbot-asistente/backend/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:518:28)\n    at IncomingMessage.emit (node:domain:489:12)\n    at endReadableNT (node:internal/streams/readable:1698:12)","timestamp":"2024-12-04T01:15:33.193Z"}
{"level":"error","message":"SyntaxError: Expected double-quoted property name in JSON at position 53 (line 4 column 1)\n    at JSON.parse (<anonymous>)\n    at parse (/home/kevin/Documentos/SAMMY-Chatbot-asistente/backend/node_modules/body-parser/lib/types/json.js:92:19)\n    at /home/kevin/Documentos/SAMMY-Chatbot-asistente/backend/node_modules/body-parser/lib/read.js:128:18\n    at AsyncResource.runInAsyncScope (node:async_hooks:211:14)\n    at invokeCallback (/home/kevin/Documentos/SAMMY-Chatbot-asistente/backend/node_modules/raw-body/index.js:238:16)\n    at done (/home/kevin/Documentos/SAMMY-Chatbot-asistente/backend/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/home/kevin/Documentos/SAMMY-Chatbot-asistente/backend/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:518:28)\n    at IncomingMessage.emit (node:domain:489:12)\n    at endReadableNT (node:internal/streams/readable:1698:12)","timestamp":"2024-12-04T01:18:12.812Z"}
{"level":"error","message":"SyntaxError: Expected double-quoted property name in JSON at position 53 (line 4 column 1)\n    at JSON.parse (<anonymous>)\n    at parse (/home/kevin/Documentos/SAMMY-Chatbot-asistente/backend/node_modules/body-parser/lib/types/json.js:92:19)\n    at /home/kevin/Documentos/SAMMY-Chatbot-asistente/backend/node_modules/body-parser/lib/read.js:128:18\n    at AsyncResource.runInAsyncScope (node:async_hooks:211:14)\n    at invokeCallback (/home/kevin/Documentos/SAMMY-Chatbot-asistente/backend/node_modules/raw-body/index.js:238:16)\n    at done (/home/kevin/Documentos/SAMMY-Chatbot-asistente/backend/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/home/kevin/Documentos/SAMMY-Chatbot-asistente/backend/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:518:28)\n    at IncomingMessage.emit (node:domain:489:12)\n    at endReadableNT (node:internal/streams/readable:1698:12)","timestamp":"2024-12-04T01:21:08.532Z"}
{"level":"error","message":"SyntaxError: Unexpected token ''', ...\" \"fecha\": '2024-12-1\"... is not valid JSON\n    at JSON.parse (<anonymous>)\n    at parse (/home/kevin/Documentos/SAMMY-Chatbot-asistente/backend/node_modules/body-parser/lib/types/json.js:92:19)\n    at /home/kevin/Documentos/SAMMY-Chatbot-asistente/backend/node_modules/body-parser/lib/read.js:128:18\n    at AsyncResource.runInAsyncScope (node:async_hooks:211:14)\n    at invokeCallback (/home/kevin/Documentos/SAMMY-Chatbot-asistente/backend/node_modules/raw-body/index.js:238:16)\n    at done (/home/kevin/Documentos/SAMMY-Chatbot-asistente/backend/node_modules/raw-body/index.js:227:7)\n    at IncomingMessage.onEnd (/home/kevin/Documentos/SAMMY-Chatbot-asistente/backend/node_modules/raw-body/index.js:287:7)\n    at IncomingMessage.emit (node:events:518:28)\n    at IncomingMessage.emit (node:domain:489:12)\n    at endReadableNT (node:internal/streams/readable:1698:12)","timestamp":"2024-12-16T21:23:18.115Z"}
{"code":9,"details":"The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/sammy-ae034/firestore/indexes?create_composite=Cktwcm9qZWN0cy9zYW1teS1hZTAzNC9kYXRhYmFzZXMvKGRlZmF1bHQpL2NvbGxlY3Rpb25Hcm91cHMvcmVjZXRhcy9pbmRleGVzL18QARoSCg5wYWNpZW50ZUNlZHVsYRABGgkKBWZlY2hhEAIaDAoIX19uYW1lX18QAg","level":"error","message":"Error al listar recetas: 9 FAILED_PRECONDITION: The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/sammy-ae034/firestore/indexes?create_composite=Cktwcm9qZWN0cy9zYW1teS1hZTAzNC9kYXRhYmFzZXMvKGRlZmF1bHQpL2NvbGxlY3Rpb25Hcm91cHMvcmVjZXRhcy9pbmRleGVzL18QARoSCg5wYWNpZW50ZUNlZHVsYRABGgkKBWZlY2hhEAIaDAoIX19uYW1lX18QAg","metadata":{"endpoint-load-metrics-bin":[{"data":[49,23,74,250,11,119,99,74,64,57,5,50,171,7,250,2,211,63,73,83,9,44,81,175,51,182,63],"type":"Buffer"}],"grpc-server-stats-bin":[{"data":[0,0,91,42,183,5,0,0,0,0],"type":"Buffer"}],"pc-high-bwd-bin":[{"data":[75,103,73,89,97,65],"type":"Buffer"}]},"stack":"Error: 9 FAILED_PRECONDITION: The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/sammy-ae034/firestore/indexes?create_composite=Cktwcm9qZWN0cy9zYW1teS1hZTAzNC9kYXRhYmFzZXMvKGRlZmF1bHQpL2NvbGxlY3Rpb25Hcm91cHMvcmVjZXRhcy9pbmRleGVzL18QARoSCg5wYWNpZW50ZUNlZHVsYRABGgkKBWZlY2hhEAIaDAoIX19uYW1lX18QAg\n    at callErrorFromStatus (/home/kevin/Documentos/SAMMY-Chatbot-asistente/backend/node_modules/@grpc/grpc-js/src/call.ts:82:17)\n    at Object.onReceiveStatus (/home/kevin/Documentos/SAMMY-Chatbot-asistente/backend/node_modules/@grpc/grpc-js/src/client.ts:612:51)\n    at Object.onReceiveStatus (/home/kevin/Documentos/SAMMY-Chatbot-asistente/backend/node_modules/@grpc/grpc-js/src/client-interceptors.ts:419:48)\n    at /home/kevin/Documentos/SAMMY-Chatbot-asistente/backend/node_modules/@grpc/grpc-js/src/resolving-call.ts:163:24\n    at processTicksAndRejections (node:internal/process/task_queues:85:11)\nfor call at\n    at ServiceClientImpl.makeServerStreamRequest (/home/kevin/Documentos/SAMMY-Chatbot-asistente/backend/node_modules/@grpc/grpc-js/src/client.ts:595:42)\n    at ServiceClientImpl.<anonymous> (/home/kevin/Documentos/SAMMY-Chatbot-asistente/backend/node_modules/@grpc/grpc-js/src/make-client.ts:189:15)\n    at /home/kevin/Documentos/SAMMY-Chatbot-asistente/backend/node_modules/@google-cloud/firestore/build/src/v1/firestore_client.js:237:29\n    at /home/kevin/Documentos/SAMMY-Chatbot-asistente/backend/node_modules/google-gax/build/src/streamingCalls/streamingApiCaller.js:38:28\n    at /home/kevin/Documentos/SAMMY-Chatbot-asistente/backend/node_modules/google-gax/build/src/normalCalls/timeout.js:44:16\n    at Object.request (/home/kevin/Documentos/SAMMY-Chatbot-asistente/backend/node_modules/google-gax/build/src/streamingCalls/streaming.js:376:40)\n    at makeRequest (/home/kevin/Documentos/SAMMY-Chatbot-asistente/backend/node_modules/retry-request/index.js:159:28)\n    at retryRequest (/home/kevin/Documentos/SAMMY-Chatbot-asistente/backend/node_modules/retry-request/index.js:119:5)\n    at StreamProxy.setStream (/home/kevin/Documentos/SAMMY-Chatbot-asistente/backend/node_modules/google-gax/build/src/streamingCalls/streaming.js:367:37)\n    at StreamingApiCaller.call (/home/kevin/Documentos/SAMMY-Chatbot-asistente/backend/node_modules/google-gax/build/src/streamingCalls/streamingApiCaller.js:54:16)\nCaused by: Error\n    at QueryUtil._getResponse (/home/kevin/Documentos/SAMMY-Chatbot-asistente/backend/node_modules/@google-cloud/firestore/build/src/reference/query-util.js:43:23)\n    at Query._getResponse (/home/kevin/Documentos/SAMMY-Chatbot-asistente/backend/node_modules/@google-cloud/firestore/build/src/reference/query.js:784:32)\n    at Query._get (/home/kevin/Documentos/SAMMY-Chatbot-asistente/backend/node_modules/@google-cloud/firestore/build/src/reference/query.js:777:35)\n    at /home/kevin/Documentos/SAMMY-Chatbot-asistente/backend/node_modules/@google-cloud/firestore/build/src/reference/query.js:745:43\n    at DisabledTraceUtil.startActiveSpan (/home/kevin/Documentos/SAMMY-Chatbot-asistente/backend/node_modules/@google-cloud/firestore/build/src/telemetry/disabled-trace-util.js:16:16)\n    at Query.get (/home/kevin/Documentos/SAMMY-Chatbot-asistente/backend/node_modules/@google-cloud/firestore/build/src/reference/query.js:744:43)\n    at Function.listarPorPaciente (/home/kevin/Documentos/SAMMY-Chatbot-asistente/backend/src/services/recetas.service.ts:83:8)\n    at listarPorPaciente (/home/kevin/Documentos/SAMMY-Chatbot-asistente/backend/src/controllers/recetas.controller.ts:85:43)\n    at Layer.handle [as handle_request] (/home/kevin/Documentos/SAMMY-Chatbot-asistente/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/kevin/Documentos/SAMMY-Chatbot-asistente/backend/node_modules/express/lib/router/route.js:149:13)","timestamp":"2024-12-17T14:21:06.763Z"}
{"level":"error","message":"Error al listar recetas: No se pudieron obtener las recetas","stack":"Error: No se pudieron obtener las recetas\n    at Function.listarPorPacienteCedula (/home/kevin/Documentos/SAMMY-Chatbot-asistente/backend/src/services/recetas.service.ts:104:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async listarPorPaciente (/home/kevin/Documentos/SAMMY-Chatbot-asistente/backend/src/controllers/recetas.controller.ts:85:23)","timestamp":"2024-12-17T14:39:33.807Z"}
{"level":"error","message":"Error al listar recetas: No se pudieron obtener las recetas","stack":"Error: No se pudieron obtener las recetas\n    at Function.listarPorPacienteCedula (/home/kevin/Documentos/SAMMY-Chatbot-asistente/backend/src/services/recetas.service.ts:104:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async listarPorPaciente (/home/kevin/Documentos/SAMMY-Chatbot-asistente/backend/src/controllers/recetas.controller.ts:85:23)","timestamp":"2024-12-17T14:40:33.153Z"}
{"level":"error","message":"Error al crear historia clínica: Value for argument \"data\" is not a valid Firestore document. Cannot use \"undefined\" as a Firestore value (found in field \"pdfUrl\"). If you want to ignore undefined values, enable `ignoreUndefinedProperties`.","stack":"Error: Value for argument \"data\" is not a valid Firestore document. Cannot use \"undefined\" as a Firestore value (found in field \"pdfUrl\"). If you want to ignore undefined values, enable `ignoreUndefinedProperties`.\n    at validateUserInput (/home/kevin/Documentos/SAMMY-Chatbot-asistente/backend/node_modules/@google-cloud/firestore/build/src/serializer.js:383:19)\n    at validateUserInput (/home/kevin/Documentos/SAMMY-Chatbot-asistente/backend/node_modules/@google-cloud/firestore/build/src/serializer.js:375:13)\n    at validateDocumentData (/home/kevin/Documentos/SAMMY-Chatbot-asistente/backend/node_modules/@google-cloud/firestore/build/src/write-batch.js:609:40)\n    at WriteBatch.set (/home/kevin/Documentos/SAMMY-Chatbot-asistente/backend/node_modules/@google-cloud/firestore/build/src/write-batch.js:263:9)\n    at /home/kevin/Documentos/SAMMY-Chatbot-asistente/backend/node_modules/@google-cloud/firestore/build/src/reference/document-reference.js:352:41\n    at DisabledTraceUtil.startActiveSpan (/home/kevin/Documentos/SAMMY-Chatbot-asistente/backend/node_modules/@google-cloud/firestore/build/src/telemetry/disabled-trace-util.js:16:16)\n    at DocumentReference.set (/home/kevin/Documentos/SAMMY-Chatbot-asistente/backend/node_modules/@google-cloud/firestore/build/src/reference/document-reference.js:346:43)\n    at Function.crear (/home/kevin/Documentos/SAMMY-Chatbot-asistente/backend/src/services/historia_clinica.service.ts:58:55)\n    at crear (/home/kevin/Documentos/SAMMY-Chatbot-asistente/backend/src/controllers/historia_clinica.controller.ts:22:60)\n    at Layer.handle [as handle_request] (/home/kevin/Documentos/SAMMY-Chatbot-asistente/backend/node_modules/express/lib/router/layer.js:95:5)","timestamp":"2024-12-17T17:13:50.073Z"}
