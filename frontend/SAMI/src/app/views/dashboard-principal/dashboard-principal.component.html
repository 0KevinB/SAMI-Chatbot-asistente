<div class="dashboard">
  <app-slidebar></app-slidebar>
  <div class="content">
    <header>
      <h1>Gestión de pacientes</h1>
      <div class="search-bar">
        <input
          type="text"
          placeholder="Buscar paciente (Cédula, nombres ...)"
        />
        <button class="search-button">Buscar</button>
      </div>
      <button class="add-patient" (click)="toggleFormulario()">
        + Nuevo paciente
      </button>
    </header>

    <div *ngIf="mostrarFormulario" class="modal-overlay">
      <form (ngSubmit)="guardarPaciente()" class="patient-form">
        <div class="form-grid">
          <div class="form-group">
            <label for="nombres" class="form-label">Nombres</label>
            <input
              id="nombres"
              type="text"
              class="form-input"
              [(ngModel)]="nuevoPaciente.nombres"
              name="nombres"
              required
            />
          </div>
          <div class="form-group">
            <label for="apellidos" class="form-label">Apellidos</label>
            <input
              id="apellidos"
              type="text"
              class="form-input"
              [(ngModel)]="nuevoPaciente.apellidos"
              name="apellidos"
              required
            />
          </div>
          <div class="form-group">
            <label for="identificacion" class="form-label"
              >Identificación</label
            >
            <input
              id="identificacion"
              type="text"
              class="form-input"
              [(ngModel)]="nuevoPaciente.identificacion"
              name="identificacion"
              required
            />
          </div>
          <div class="form-group">
            <label for="contacto" class="form-label">Contacto</label>
            <input
              id="contacto"
              type="tel"
              class="form-input"
              [(ngModel)]="nuevoPaciente.contacto"
              name="contacto"
              required
            />
          </div>
          <div class="form-group">
            <label for="fechaNacimiento" class="form-label"
              >Fecha de nacimiento</label
            >
            <input
              id="fechaNacimiento"
              type="date"
              class="form-input"
              [(ngModel)]="nuevoPaciente.fechaNacimiento"
              name="fechaNacimiento"
              required
            />
          </div>
          <div class="form-group">
            <label for="lugarNacimiento" class="form-label"
              >Lugar de nacimiento</label
            >
            <input
              id="lugarNacimiento"
              type="text"
              class="form-input"
              [(ngModel)]="nuevoPaciente.lugarNacimiento"
              name="lugarNacimiento"
              required
            />
          </div>
        </div>
        <div class="modal-actions">
          <button type="submit" class="save-button">GUARDAR</button>
          <button
            type="button"
            class="cancel-button"
            (click)="cancelarFormulario()"
          >
            CANCELAR
          </button>
        </div>
      </form>
    </div>

    <table>
      <thead>
        <tr>
          <th class="title-column">Cédula</th>
          <th class="title-column">Nombres</th>
          <th class="title-column">Apellidos</th>
          <th class="title-column">Teléfono</th>
          <th class="title-column">Fecha de Evaluación</th>
          <th class="title-column">Acción</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let paciente of listaPacientes">
          <td class="data-patient">{{ paciente.cedula }}</td>
          <td class="data-patient">{{ paciente.nombres }}</td>
          <td class="data-patient">{{ paciente.apellidos }}</td>
          <td class="data-patient">{{ paciente.telefono }}</td>
          <td class="data-patient">{{ paciente.fechaEvaluacion }}</td>
          <td>
            <div class="actions">
              <button class="button-standar">Ver más</button>
              <button class="delete-action">
                <i class="fa-solid fa-trash-can"></i>
              </button>
            </div>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
</div>
